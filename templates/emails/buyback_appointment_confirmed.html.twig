<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); color: white; padding: 40px 30px; text-align: center; border-radius: 12px 12px 0 0; }
        .header h1 { margin: 0; font-size: 28px; font-weight: 900; }
        .content { background: white; padding: 40px 30px; border: 1px solid #e6edf2; border-top: none; }
        .appointment-box { background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(59, 130, 246, 0.05) 100%); border: 2px solid #3b82f6; border-radius: 12px; padding: 24px; margin: 24px 0; }
        .info-row { display: flex; align-items: center; gap: 12px; padding: 12px 0; border-bottom: 1px solid rgba(59, 130, 246, 0.2); }
        .info-row:last-child { border-bottom: none; }
        .payment-box { background: rgba(34, 197, 94, 0.1); border-left: 4px solid #22c55e; padding: 16px; border-radius: 8px; margin: 24px 0; }
        .warning-box { background: rgba(245, 158, 11, 0.1); border-left: 4px solid #f59e0b; padding: 16px; border-radius: 8px; margin: 24px 0; }
        .footer { text-align: center; padding: 30px; color: #6c7783; font-size: 14px; }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>‚úÖ Rendez-vous confirm√© !</h1>
        <p style="margin: 8px 0 0 0; font-size: 16px; opacity: 0.95;">Enl√®vement planifi√©</p>
    </div>

    <div class="content">
        <p>Bonjour <strong>{{ request.fullName }}</strong>,</p>

        <p>Votre rendez-vous d'enl√®vement a √©t√© confirm√© avec succ√®s !</p>

        <div class="appointment-box">
            <h3 style="margin: 0 0 16px 0; color: #1e40af; font-size: 18px;">üìÖ D√©tails du rendez-vous</h3>
            <div class="info-row">
                <span style="color: #3b82f6; font-size: 20px; width: 24px; flex-shrink: 0;">üìÜ</span>
                <div>
                    <strong>Date :</strong> {{ appointment.formattedDate }}
                </div>
            </div>
            <div class="info-row">
                <span style="color: #3b82f6; font-size: 20px; width: 24px; flex-shrink: 0;">üïê</span>
                <div>
                    <strong>Heure :</strong> {{ appointment.appointmentTime }}
                </div>
            </div>
            <div class="info-row">
                <span style="color: #3b82f6; font-size: 20px; width: 24px; flex-shrink: 0;">üìç</span>
                <div>
                    <strong>Adresse :</strong><br>
                    {{ request.fullAddress }}
                </div>
            </div>
            <div class="info-row">
                <span style="color: #3b82f6; font-size: 20px; width: 24px; flex-shrink: 0;">üì¶</span>
                <div>
                    <strong>Appareil :</strong> {{ request.brand|capitalize }} {{ request.model }}
                </div>
            </div>
            <div class="info-row">
                <span style="color: #3b82f6; font-size: 20px; width: 24px; flex-shrink: 0;">üí∞</span>
                <div>
                    <strong>Montant estim√© :</strong> {{ request.estimatedPrice|number_format(0, ',', ' ') }} ‚Ç¨
                    <div style="font-size: 12px; color: #6c7783; margin-top: 4px;">Prix confirm√© apr√®s v√©rification sur place</div>
                </div>
            </div>
        </div>

        <div class="warning-box">
            <strong style="color: #92400e;">‚ö†Ô∏è Important</strong><br>
            <span style="color: #78350f; font-size: 14px;">
                Le montant de <strong>{{ request.estimatedPrice|number_format(0, ',', ' ') }} ‚Ç¨</strong> est une <strong>estimation</strong>. Notre transporteur confirmera le prix final apr√®s v√©rification de l'√©tat r√©el de l'appareil et des accessoires.
            </span>
        </div>

        <div class="payment-box">
            <strong style="color: #15803d;">üíµ Paiement</strong><br>
            <span style="color: #6c7783; font-size: 14px;">
                {% if request.paymentMethod == 'virement' %}
                    Vous recevrez le virement du <strong>montant confirm√©</strong> sous 48h apr√®s r√©cup√©ration de l'appareil.<br>
                    <strong>N'oubliez pas votre RIB !</strong>
                {% else %}
                    Vous recevrez le <strong>montant confirm√©</strong> en esp√®ces lors de l'enl√®vement.<br>
                    <strong>Pr√©parez votre pi√®ce d'identit√© !</strong>
                {% endif %}
            </span>
        </div>

        <h3 style="color: #1a2332; font-size: 18px; margin-top: 32px;">üìã Pr√©paration</h3>
        <ul style="color: #6c7783;">
            <li><strong>D√©branchez</strong> l'appareil la veille</li>
            <li><strong>Videz-le</strong> compl√®tement (si applicable : frigo, lave-linge, etc.)</li>
            <li><strong>D√©gagez l'acc√®s</strong> pour faciliter l'enl√®vement</li>
            <li><strong>Pr√©parez tous les accessoires mentionn√©s</strong> (c√¢bles, t√©l√©commande, etc.)</li>
            <li><strong>Pr√©parez</strong> :
                <ul>
                    <li>Pi√®ce d'identit√© (obligatoire)</li>
                    {% if request.paymentMethod == 'virement' %}
                        <li>RIB pour le virement</li>
                    {% endif %}
                    {% if request.isHasInvoice %}
                        <li>Facture d'achat originale (bonus +10% appliqu√©)</li>
                    {% endif %}
                </ul>
            </li>
        </ul>

        <div style="background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3b82f6; padding: 16px; border-radius: 8px; margin: 24px 0;">
            <strong style="color: #1e40af;">‚ÑπÔ∏è Bon √† savoir</strong><br>
            <span style="color: #6c7783; font-size: 14px;">
                ‚Ä¢ Notre √©quipe vous appellera la veille pour confirmer<br>
                ‚Ä¢ Dur√©e estim√©e : 15-30 minutes<br>
                ‚Ä¢ En cas d'emp√™chement, pr√©venez-nous au plus vite<br>
                ‚Ä¢ Le prix final peut √™tre ajust√© si l'√©tat diff√®re de votre description
            </span>
        </div>

        <div style="text-align: center; margin-top: 40px; padding-top: 30px; border-top: 2px solid #e6edf2;">
            <p style="color: #6c7783; font-size: 14px; margin-bottom: 8px;">Besoin de modifier votre RDV ?</p>
            <p style="margin: 0;"><strong>üìß contact@recyclum.fr</strong></p>
            <p style="margin: 8px 0 0 0;"><strong>üìû 01 43 07 63 63</strong></p>
        </div>
    </div>

    <div class="footer">
        <p style="margin: 0;">Recyclum - √âlectrom√©nager reconditionn√©</p>
        <p style="margin: 8px 0 0 0; font-size: 12px;">Demande de rachat #{{ request.id }}</p>
    </div>
</div>
</body>
</html>
