<header class="modern-header" data-controller="mega-menu mobile-menu">
    <div class="header-container">
        <div class="container header-inner">
            {# LOGO MODERNE #}
            <a href="{{ path('app_home') }}" class="brand-modern">
                <div class="logo-modern">
                    <div class="logo-icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M12 6v6l4 2"></path>
                            <path d="M16 12l-4-2-4 2"></path>
                        </svg>
                        <div class="logo-pulse"></div>
                    </div>
                    <div class="logo-text">
                        <span class="logo-name">Recyclum</span>
                        <span class="logo-tagline">Électroménager reconditionné</span>
                    </div>
                </div>
            </a>

            {# NAVIGATION DESKTOP #}
            <nav class="nav-modern">
                <a href="{{ path('app_home') }}" class="nav-item {{ app.request.get('_route') == 'app_home' ? 'active' : '' }}">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    </svg>
                    <span>Accueil</span>
                </a>

                {# MEGA MENU DROPDOWN #}
                <div class="nav-item-dropdown" data-mega-menu-target="trigger">
                    <button
                        class="nav-item nav-dropdown {{ app.request.get('_route') starts with 'catalog' ? 'active' : '' }}"
                        data-action="mouseenter->mega-menu#show mouseleave->mega-menu#hide click->mega-menu#toggle"
                        type="button"
                    >
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                            <path d="M3 9h18M9 21V9"></path>
                        </svg>
                        <span>Électroménager</span>
                        <svg class="dropdown-arrow" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>

                    {# MEGA MENU PANEL - COMPLET #}
                    <div
                        class="mega-panel"
                        data-mega-menu-target="panel"
                        data-action="mouseenter->mega-menu#show mouseleave->mega-menu#hide"
                    >
                        <div class="mega-grid">
                            {# COLONNE 1 : CUISINE #}
                            <div class="mega-col">
                                <h3 class="mega-title">
                                    <div class="mega-icon">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="4" y="2" width="16" height="20" rx="2"></rect>
                                            <line x1="4" y1="12" x2="20" y2="12"></line>
                                        </svg>
                                    </div>
                                    Cuisine
                                </h3>
                                <ul class="mega-list">
                                    <li><a href="{{ path('catalog_index', {category: 'refrigerateur'}) }}">Réfrigérateurs</a></li>
                                    <li><a href="{{ path('catalog_index', {category: 'congelateur'}) }}">Congélateurs</a></li>
                                    <li><a href="{{ path('catalog_index', {category: 'four'}) }}">Fours</a></li>
                                    <li><a href="{{ path('catalog_index', {category: 'plaque-cuisson'}) }}">Plaques de cuisson</a></li>
                                    <li><a href="{{ path('catalog_index', {category: 'lave-vaisselle'}) }}">Lave-vaisselle</a></li>
                                    <li><a href="{{ path('catalog_index', {category: 'micro-ondes'}) }}">Micro-ondes</a></li>
                                    <li><a href="{{ path('catalog_index', {category: 'hotte'}) }}">Hottes aspirantes</a></li>
                                    <li><a href="{{ path('catalog_index', {category: 'cave-vin'}) }}">Caves à vin</a></li>
                                </ul>
                            </div>

                            {# COLONNE 2 : LAVAGE #}
                            <div class="mega-col">
                                <h3 class="mega-title">
                                    <div class="mega-icon">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <circle cx="12" cy="12" r="10"></circle>
                                            <path d="M12 6v6l4 2"></path>
                                        </svg>
                                    </div>
                                    Lavage
                                </h3>
                                <ul class="mega-list">
                                    <li><a href="{{ path('catalog_index', {category: 'lave-linge'}) }}">Lave-linge</a></li>
                                    <li><a href="{{ path('catalog_index', {category: 'seche-linge'}) }}">Sèche-linge</a></li>
                                    <li><a href="{{ path('catalog_index', {category: 'lavante-sechante'}) }}">Lavante-séchante</a></li>
                                </ul>
                            </div>

                            {# COLONNE 3 : PETIT ÉLECTROMÉNAGER #}
                            <div class="mega-col">
                                <h3 class="mega-title">
                                    <div class="mega-icon">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M18 8h1a4 4 0 0 1 0 8h-1"></path>
                                            <path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path>
                                        </svg>
                                    </div>
                                    Petit électro
                                </h3>
                                <ul class="mega-list">
                                    <li><a href="{{ path('catalog_index', {category: 'aspirateur'}) }}">Aspirateurs</a></li>
                                    <li><a href="{{ path('catalog_index', {category: 'cafetiere'}) }}">Cafetières</a></li>
                                    <li><a href="{{ path('catalog_index', {category: 'robot-cuisine'}) }}">Robots de cuisine</a></li>
                                    <li><a href="{{ path('catalog_index', {category: 'blender'}) }}">Blenders</a></li>
                                    <li><a href="{{ path('catalog_index', {category: 'grille-pain'}) }}">Grille-pain</a></li>
                                    <li><a href="{{ path('catalog_index', {category: 'bouilloire'}) }}">Bouilloires</a></li>
                                </ul>
                            </div>

                            {# COLONNE 4 : CTA HIGHLIGHT #}
                            <div class="mega-highlight">
                                <div class="highlight-icon">
                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <path d="m9 12 2 2 4-4"></path>
                                    </svg>
                                </div>
                                <h4>Tous reconditionnés</h4>
                                <p>Testés, vérifiés et garantis jusqu'à 24 mois</p>
                                <a href="{{ path('catalog_index') }}" class="btn-highlight">
                                    Voir tout
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="5" y1="12" x2="19" y2="12"></line>
                                        <polyline points="12 5 19 12 12 19"></polyline>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <a href="{{ path('reparation_index') }}" class="nav-item">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
                    </svg>
                    <span>Réparation</span>
                </a>

                <a href="{{ path('app_rachat') }}" class="nav-item">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                        <path d="M2 17l10 5 10-5M2 12l10 5 10-5"></path>
                    </svg>
                    <span>Rachat</span>
                </a>

                <a href="#" class="nav-item">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    <span>Avis</span>
                </a>
            </nav>

            {# CTA DESKTOP #}
            <a href="#" class="btn-cta-modern">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                    <polyline points="22,6 12,13 2,6"></polyline>
                </svg>
                <span>Contact</span>
                <div class="btn-shine"></div>
            </a>

            {# HAMBURGER MOBILE #}
            <button
                class="mobile-menu-toggle"
                data-action="click->mobile-menu#toggle"
                data-mobile-menu-target="toggle"
                aria-label="Menu"
            >
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
        </div>
    </div>

    {# MOBILE DRAWER #}
    <div class="mobile-drawer" data-mobile-menu-target="drawer">
        <div class="mobile-drawer-header">
            <div class="drawer-logo">
                <div class="logo-icon-small">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M12 6v6l4 2"></path>
                    </svg>
                </div>
                <span class="drawer-title">Menu</span>
            </div>
            <button class="drawer-close" data-action="click->mobile-menu#close">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>

        <div class="mobile-drawer-content">
            {# Navigation principale #}
            <div class="mobile-nav-section">
                <ul class="mobile-nav-list">
                    <li>
                        <a href="{{ path('app_home') }}" class="{{ app.request.get('_route') == 'app_home' ? 'active' : '' }}">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                            </svg>
                            Accueil
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
                            </svg>
                            Réparation
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                                <path d="M2 17l10 5 10-5M2 12l10 5 10-5"></path>
                            </svg>
                            Rachat
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            Avis
                        </a>
                    </li>
                </ul>
            </div>

            {# Catégories Cuisine #}
            <div class="mobile-nav-section">
                <h3 class="mobile-nav-title">Cuisine</h3>
                <ul class="mobile-nav-list">
                    <li><a href="{{ path('catalog_index', {category: 'refrigerateur'}) }}">Réfrigérateurs</a></li>
                    <li><a href="{{ path('catalog_index', {category: 'congelateur'}) }}">Congélateurs</a></li>
                    <li><a href="{{ path('catalog_index', {category: 'four'}) }}">Fours</a></li>
                    <li><a href="{{ path('catalog_index', {category: 'plaque-cuisson'}) }}">Plaques de cuisson</a></li>
                    <li><a href="{{ path('catalog_index', {category: 'lave-vaisselle'}) }}">Lave-vaisselle</a></li>
                    <li><a href="{{ path('catalog_index', {category: 'micro-ondes'}) }}">Micro-ondes</a></li>
                    <li><a href="{{ path('catalog_index', {category: 'hotte'}) }}">Hottes aspirantes</a></li>
                    <li><a href="{{ path('catalog_index', {category: 'cave-vin'}) }}">Caves à vin</a></li>
                </ul>
            </div>

            {# Catégories Lavage #}
            <div class="mobile-nav-section">
                <h3 class="mobile-nav-title">Lavage</h3>
                <ul class="mobile-nav-list">
                    <li><a href="{{ path('catalog_index', {category: 'lave-linge'}) }}">Lave-linge</a></li>
                    <li><a href="{{ path('catalog_index', {category: 'seche-linge'}) }}">Sèche-linge</a></li>
                    <li><a href="{{ path('catalog_index', {category: 'lavante-sechante'}) }}">Lavante-séchante</a></li>
                </ul>
            </div>

            {# Catégories Petit électro #}
            <div class="mobile-nav-section">
                <h3 class="mobile-nav-title">Petit électroménager</h3>
                <ul class="mobile-nav-list">
                    <li><a href="{{ path('catalog_index', {category: 'aspirateur'}) }}">Aspirateurs</a></li>
                    <li><a href="{{ path('catalog_index', {category: 'cafetiere'}) }}">Cafetières</a></li>
                    <li><a href="{{ path('catalog_index', {category: 'robot-cuisine'}) }}">Robots de cuisine</a></li>
                    <li><a href="{{ path('catalog_index', {category: 'blender'}) }}">Blenders</a></li>
                    <li><a href="{{ path('catalog_index', {category: 'grille-pain'}) }}">Grille-pain</a></li>
                    <li><a href="{{ path('catalog_index', {category: 'bouilloire'}) }}">Bouilloires</a></li>
                </ul>
            </div>
        </div>

        <div class="mobile-drawer-footer">
            <a href="#" class="btn-mobile-cta">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                    <polyline points="22,6 12,13 2,6"></polyline>
                </svg>
                Contact
            </a>
        </div>
    </div>

    {# BACKDROP #}
    <div class="mobile-backdrop" data-mobile-menu-target="backdrop" data-action="click->mobile-menu#close"></div>
</header>
