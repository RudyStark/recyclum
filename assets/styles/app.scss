/* =========================================================
   Recyclum UI — Thème clair pro + Header sombre élégant
   (logo agrandi + étiré horizontalement + vertical ajusté)
   — Logo & menu alignés sur une seule ligne
   — Séparatrice “curve” sobre entre les deux
   — Surfaces (1/2/3) pour hiérarchie visuelle propre
   ========================================================= */

/* ---------- PALETTE (SASS) ---------- */
$bg:           #F6F8FA;   // fond global doux
$surface:      #FFFFFF;   // cartes/sections / rail menu
$surface-2:    #F2F5F7;   // alternance douce
$surface-3:    #ECEFF2;   // alternance marquée
$border:       #E6EDF2;   // bordures subtiles
$text:         #0F1418;   // texte principal
$muted:        #6C7783;   // texte secondaire

$primary:      #16C669;   // vert Recyclum maîtrisé
$primary-600:  #12A85A;
$primary-300:  #6FDEA7;

/* Bandeau logo (anthracite, sobre) */
$anthracite-1: #0F1317;
$anthracite-2: #13181D;

/* ---------- BOOTSTRAP OVERRIDES ---------- */
$enable-dark-mode: false;

$body-bg:    $bg;
$body-color: $text;

$link-color:        $primary;

$card-bg:           $surface;
$card-border-color: $border;

$btn-border-radius: .6rem;
$btn-padding-y: .6rem;
$btn-padding-x: 1.1rem;
$btn-font-weight: 600;

/* ---------- IMPORTS ---------- */
@import "bootstrap/scss/bootstrap";
/* Icônes optionnelles : npm i bootstrap-icons */
@import "bootstrap-icons/font/bootstrap-icons";

/* ---------- VARIABLES CSS UTILISABLES DANS L’APP ---------- */
:root{
    --app-bg:      #F6F8FA;
    --surface:     #FFFFFF;
    --surface-2:   #F2F5F7;
    --surface-3:   #ECEFF2;
    --border:      #E6EDF2;
    --text:        #0F1418;
    --muted:       #6C7783;

    --primary:     #16C669;
    --primary-600: #12A85A;
    --primary-300: #6FDEA7;

    --container-x: max(0px, env(safe-area-inset-left));

    /* Étirement du logo (scaleX / scaleY) */
    --logo-stretch-x: 1.12;  /* mobile : horizontal */
    --logo-stretch-y: 1.55;  /* mobile : vertical (ajusté) */
    /* Légère translation visuelle (mobile) */
    --logo-translate-y: 0.5px;
}

/* =========================================================
   STYLES GLOBAUX
   ========================================================= */
body{ background: var(--app-bg); color: var(--text); }

.full-bleed { padding-left: var(--container-x); padding-right: var(--container-x); }

.text-soft  { color: var(--muted) !important; }
.hr-soft    { border-color: var(--border); opacity: 1; }
.map-embed  { min-height: 320px; border: 0; }

/* Cartes génériques */
.card{
    background: var(--surface);
    border: 1px solid var(--border);
    box-shadow: 0 6px 20px rgba(16,20,24,.06);
    border-radius: 1rem;
}

/* =========================================================
   SURFACES & BLOCS (pour hiérarchie claire)
   ========================================================= */
.surface-1{ background: var(--surface); }
.surface-2{ background: var(--surface-2); }
.surface-3{ background: var(--surface-3); }

.section-block{
    background: inherit;
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 1.25rem;
}
@media (min-width: 992px){
    .section-block{ padding: 1.75rem; }
}

.band-block{
    background: inherit;
    border-top: 1px solid var(--border);
    border-bottom: 1px solid var(--border);
    padding: 1rem 0;
}

.section-title{
    margin-bottom: .75rem;
    font-weight: 800;
}

/* Vignettes produits sobres */
.ratio.bg-thumb{
    background:
        linear-gradient(180deg, rgba(0,0,0,.04), rgba(0,0,0,0)),
        var(--surface-2);
    border-bottom: 1px solid var(--border);
    border-top-left-radius: 1rem;
    border-top-right-radius: 1rem;
}

/* =========================================================
   HEADER — 1 seule ligne : logo | séparatrice courbe | menu
   ========================================================= */
.site-header{ background: transparent; }

/* Bandeau sombre */
.nav-top{
    background: linear-gradient(180deg, $anthracite-1 0%, $anthracite-2 100%);
    border-bottom-left-radius: 16px;
    border-bottom-right-radius: 16px;
    box-shadow: 0 10px 24px rgba(0,0,0,.16);
}

/* Ligne unique */
.header-row{
    min-height: 104px;
    display: flex;
    align-items: center;
    gap: 16px;
}

/* Slot logo à gauche */
.brand-slot{
    display: flex;
    align-items: center;
}

/* Logo AGRANDI + ÉTIRÉ (X & Y) */
.brand-logo{
    height: 70px;                   /* mobile */
    width: auto;
    display: inline-block;
    transform-origin: left center;
    transform:
        translateY(var(--logo-translate-y))
        scale(var(--logo-stretch-x), var(--logo-stretch-y));
    -webkit-transform:
        translateY(var(--logo-translate-y))
        scale(var(--logo-stretch-x), var(--logo-stretch-y));
    image-rendering: auto;
}

/* Séparatrice “curve” sobre entre logo et menu */
.splitter-curve{
    width: 22px;
    height: 64px;
    position: relative;
    flex: 0 0 22px;
}
.splitter-curve::before{
    content: "";
    position: absolute;
    inset: 6px 10px;
    border-radius: 32px;
    background:
        linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,0) 30%),
        linear-gradient(180deg, rgba(255,255,255,0) 70%, rgba(0,0,0,.18)),
        linear-gradient(180deg, #DCE6E0, #BFD9CC);
    -webkit-mask:
        linear-gradient(90deg, transparent 0 9px, #000 9px 11px, transparent 11px 100%);
    mask:
        linear-gradient(90deg, transparent 0 9px, #000 9px 11px, transparent 11px 100%);
    opacity: .9;
}

/* Slot menu à droite (prend la place restante) */
.menu-slot{
    margin-left: auto;
    display: flex;
    align-items: center;
}

/* =========================================================
   NAVBAR — PRO & SOBRE (rectangulaire, sans effets gadgets)
   ========================================================= */
.menu-rail{
    background: $surface;
    border: 1px solid $border;
    border-radius: 8px;
    padding: .5rem .6rem;
    display: inline-flex;
    align-items: center;
    gap: .25rem;
}

.nav-rail{
    display:flex;
    align-items:center;
    gap: .25rem;
}

/* Liens : soulignement net au hover/actif */
.nav-rail .nav-link{
    position: relative;
    font-weight: 700;
    color: var(--text);
    padding: .6rem 1rem;
    border-radius: 6px;
    text-decoration: none;
}
.nav-rail .nav-link::after{
    content: "";
    position: absolute;
    left: 10px; right: 10px; bottom: .35rem;
    height: 2px;
    background: var(--primary);
    transform: scaleX(0);
    transform-origin: left center;
    transition: transform .18s ease-in-out;
    border-radius: 2px;
}
.nav-rail .nav-link:hover::after,
.nav-rail .nav-link.active::after{
    transform: scaleX(1);
}

/* CTA (ex: Contact) — plein vert */
.btn-rail-cta{
    padding: .6rem 1rem;
    font-weight: 800;
    border-radius: 6px;
    background: var(--primary);
    border: 1px solid #11B864;
    color: #07130C;
}

/* =========================================================
   HERO & SECTIONS
   ========================================================= */
.hero{
    background:
        linear-gradient(180deg, rgba(22,198,105,.06), rgba(22,198,105,0) 55%),
        var(--surface);
    border-bottom: 1px solid var(--border);
}
.hero .hero-inner{
    min-height: 48vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
}

/* Section simple (si tu ne veux pas utiliser .section-block) */
.section{
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 1rem;
    padding: 1.25rem;
}
@media (min-width: 992px){
    .section { padding: 1.75rem; }
}

/* TRUST BAR / BANNIÈRE EXPRESS / MAP & CONTACT / FOOTER */
.trust-bar{ background: var(--surface-2); border-top: 1px solid var(--border); border-bottom: 1px solid var(--border); }
.banner-express{ background: var(--surface-3); border-top: 1px solid var(--border); border-bottom: 1px solid var(--border); }
.map-side{ background: var(--surface); }
.contact-side{ background: var(--surface-2); border-left: 1px solid var(--border); }
.footer{ background: var(--surface-2); border-top: 1px solid var(--border); }

/* =========================================================
   BOUTONS OUTLINE (lisibles sur fond clair)
   ========================================================= */
.btn-outline-light{
    --bs-btn-color: var(--text);
    --bs-btn-border-color: var(--border);
    --bs-btn-hover-bg: #F1F5F2;
    --bs-btn-hover-border-color: var(--primary);
}

/* =========================================================
   DRAWER MOBILE (optionnel si collapse)
   ========================================================= */
.rail-drawer{ position: relative; }
/* panneau */
.rail-drawer-panel{
    position: fixed;
    top: 0; right: 0;
    height: 100vh;
    width: min(88vw, 360px);
    background: var(--surface);
    border-left: 1px solid var(--border);
    box-shadow: -10px 0 24px rgba(16,20,24,.18);
    transform: translateX(100%);
    transition: transform .25s ease;
    z-index: 1051;
    display:flex; flex-direction:column;
    padding: 1rem 1rem 1.25rem;
}
.rail-drawer.show .rail-drawer-panel{ transform: translateX(0%); }

/* backdrop */
.rail-drawer-backdrop{
    content:"";
    position: fixed;
    inset: 0;
    background: rgba(10,14,18,.38);
    opacity: 0;
    transition: opacity .2s ease;
    pointer-events: none;
    z-index: 1050;
}
.rail-drawer.show .rail-drawer-backdrop{
    opacity: 1;
    pointer-events: auto;
}

/* tête du drawer */
.drawer-head{
    padding-bottom: .35rem;
    border-bottom: 1px solid var(--border);
    margin-bottom: .5rem;
}
.drawer-title{ font-weight: 700; color: var(--text); }
.btn-rail-close{
    background: transparent;
    border: 1px solid var(--border);
    border-radius: .65rem;
    width: 38px; height: 38px;
    display:inline-flex; align-items:center; justify-content:center;
    color: var(--text);
}

/* liens drawer */
.drawer-links{ padding: .5rem 0 0; margin: 0; }
.drawer-link{
    display:block;
    padding: .8rem .35rem;
    font-weight: 600;
    color: var(--text);
    border-radius: .6rem;
    transition: background-color .15s ease, padding-left .15s ease;
    text-decoration: none;
}
.drawer-link:hover{
    background: #EFF6F1;
    padding-left: .55rem;
}

/* =========================================================
   RESPONSIVE
   ========================================================= */
@media (min-width: 768px){
    :root{
        --logo-stretch-x: 1.18;  /* tablette : plus large */
        --logo-stretch-y: 1.04;  /* tablette : léger étirement vertical */
        --logo-translate-y: 0px;
    }
    .brand-logo{ height: 62px; }
    .splitter-curve{ height: 66px; }
}

@media (min-width: 1200px){
    :root{
        --logo-stretch-x: 1.24;  /* desktop : large */
        --logo-stretch-y: 1.00;  /* desktop : pas d’étirement vertical */
        --logo-translate-y: 0px;
    }
    .brand-logo{ height: 106px; }
    .splitter-curve{ height: 74px; }
}

@media (max-width: 575.98px){
    .header-row{ min-height: 92px; gap: 10px; }
    .brand-logo{ height: 64px; }
    .splitter-curve{ height: 58px; width: 18px; flex-basis: 18px; }
    .splitter-curve::before{
        inset: 6px 8px;
        -webkit-mask: linear-gradient(90deg, transparent 0 7px, #000 7px 9px, transparent 9px 100%);
        mask: linear-gradient(90deg, transparent 0 7px, #000 7px 9px, transparent 9px 100%);
    }

    /* Conteneurs bord à bord en mobile si besoin */
    .container.mobile-edge,
    .container-fluid.mobile-edge{
        padding-left:0 !important;
        padding-right:0 !important;
    }
}

/* =========================================================
   ACCESSIBILITÉ (réduction animations)
   ========================================================= */
@media (prefers-reduced-motion: reduce){
    * { transition: none !important; animation: none !important; }
}

/* === COOKIE CONSENT (toast pro, sobre) === */
.cookie-consent{
    position: fixed;
    right: 18px;
    bottom: 18px;
    z-index: 1090;
    max-width: 420px;
    background: var(--surface);
    color: var(--text);
    border: 1px solid var(--border);
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(16,20,24,.12);
    padding: .75rem .85rem;
    display: grid;
    grid-template-columns: 1fr auto;
    gap: .25rem 0;

    opacity: 0;
    transform: translateY(8px);
    transition: opacity .18s ease, transform .18s ease;

    &.is-visible{
        opacity: 1;
        transform: translateY(0);
    }
}

.cookie-consent__body{
    grid-column: 1 / -1;
}

.cookie-consent__title{
    font-weight: 700;
    margin-bottom: .25rem;
}

.cookie-consent__text{
    color: var(--muted);
    margin: 0;
}

.cookie-consent__close{
    position: absolute;
    inset: 6px 6px auto auto;
    width: 34px; height: 34px;
    border: 1px solid var(--border);
    background: transparent;
    border-radius: .6rem;
    display: inline-flex; align-items: center; justify-content: center;
    color: var(--text);
}

/* Responsive : en mobile, on élargit et on remonte légèrement */
@media (max-width: 575.98px){
    .cookie-consent{
        left: 12px;
        right: 12px;
        bottom: 12px;
        max-width: none;
        padding: .9rem .95rem 1rem;
        border-radius: 14px;
    }
}
